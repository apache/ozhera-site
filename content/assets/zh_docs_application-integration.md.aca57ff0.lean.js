import{_ as l,a as e,b as o,c as p,d as t,e as r,f as c,g as E,h as i,i as y,j as d,k as m,l as h,m as u,n as _,o as g,p as F,q,r as k,s as D,t as b,u as A,v as P,w as v,x,y as C,z as O,A as f,B as N}from"./chunks/hera-dash3.0be27f14.js";import{_ as j,o as S,h as T,Q as n,p as s,e as a}from"./chunks/framework.d1267443.js";const Y=JSON.parse('{"title":"OzHera接入文档","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"zh/docs/application-integration.md","filePath":"zh/docs/application-integration.md"}'),M={name:"zh/docs/application-integration.md"},B=n("",7),z=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"变量名"),s("th",{style:{"text-align":"center"}},"是否必填"),s("th",null,"默认值"),s("th",null,"备注")])]),s("tbody",null,[s("tr",null,[s("td",null,"-javaagent:/opt/soft/opentelemetry-javaagent-all-0.0.1.jar"),s("td",{style:{"text-align":"center"}},"是"),s("td"),s("td",null,[a("用于表示javaagent探针jar包在服务器上的位置，"),s("br"),a("我们一般习惯将探针的jar文件更名为opentelemetry-javaagent-all-0.0.1.jar，并放在服务器/opt/soft目录下。")])]),s("tr",null,[s("td",{nacosurl:""},"-Dotel.exporter.prometheus.nacos.addr=$"),s("td",{style:{"text-align":"center"}},"是"),s("td"),s("td",null,"Nacos地址")]),s("tr",null,[s("td",null,"-Dotel.resource.attributes=service.name=1-test"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"none"),s("td",null,[a("用于表示当前服务的应用名。格式是appId-appName。eg：1-test，1是 appId，test是appName。"),s("br"),a("如果为空，程序⾥默认使⽤none。应⽤是Hera中⾮常重要的元数据，可观测数据展⽰都与应⽤有关。")])]),s("tr",null,[s("td",null,"-Dotel.traces.exporter=log4j2"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"log4j2"),s("td",null,"用于表示trace export方式，是通过log4j2将trace输出到日志文件中，默认使用log4j2")]),s("tr",null,[s("td",null,"-Dotel.exporter.log.isasync=true"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"true"),s("td",null,[a("用于表示是否开log4j2启异步日志，一般出于性能考虑，会是true，只有在"),s("code",null,"-Dotel.traces.exporter"),a("值为"),s("code",null,"log4j2"),a("时生效。")])]),s("tr",null,[s("td",null,"-Dotel.metrics.exporter=prometheus"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"prometheus"),s("td",null,"用于表示metrics export方式。默认使用prometheus")]),s("tr",null,[s("td",null,"-Dotel.javaagent.exclude-classes=com.dianping.cat.*"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"com.dianping.cat.*"),s("td",null,"过滤不被探针拦截的包。如果使用到了cat，需要将cat所在的目录进行过滤")]),s("tr",null,[s("td",null,"-Dotel.exporter.log.pathprefix=/home/work/log/"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"/home/work/log/"),s("td",null,[a("用于表示log4j2的日志位置。"),s("br"),a("这里log4j2的日志会优先输出到名为MIONE_LOG_PATH的环境变量所表示的位置，如果没有这个环境变量，则会输出到"),s("code",null,"-Dotel.exporter.log.pathprefix"),a(" / "),s("code",null,"MIONE_PROJECT_NAME"),a("目录下。"),s("br"),a("注意：k8s中，需要将此目录挂载出来，以供日志采集容器能够访问到。")])]),s("tr",null,[s("td",null,"-Dotel.propagators=tracecontext"),s("td",{style:{"text-align":"center"}},"否"),s("td",null,"tracecontext"),s("td",null,"用于表示trace传输的处理类型，目前只用到了tracecontext")])])],-1),H=n("",82),I=[B,z,H];function R($,w,V,J,Q,K){return S(),T("div",null,I)}const L=j(M,[["render",R]]);export{Y as __pageData,L as default};
