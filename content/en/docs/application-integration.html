<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OzHera Integration Documentation | OzHera</title>
    <meta name="description" content="an Application Observable Platform">
    <link rel="preload stylesheet" href="/assets/style.b75a092b.css" as="style">
    
    <script type="module" src="/assets/app.324b2a69.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.d1267443.js">
    <link rel="modulepreload" href="/assets/chunks/theme.6b2fb6cc.js">
    <link rel="modulepreload" href="/assets/chunks/hera-dash3.0be27f14.js">
    <link rel="modulepreload" href="/assets/en_docs_application-integration.md.4882c050.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-71011c1a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-eca4131c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-eca4131c> Skip to content </a><!--]--><!----><header class="VPNav" data-v-71011c1a data-v-93cc4d3f><div class="VPNavBar has-sidebar" data-v-93cc4d3f data-v-a63be76e><div class="container" data-v-a63be76e><div class="title" data-v-a63be76e><div class="VPNavBarTitle has-sidebar" data-v-a63be76e data-v-597d53dc><a class="title" href="/en/" data-v-597d53dc><!--[--><!--]--><!----><!--[-->OzHera<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a63be76e><div class="curtain" data-v-a63be76e></div><div class="content-body" data-v-a63be76e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-a63be76e><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a63be76e data-v-c3057263><span id="main-nav-aria-label" class="visually-hidden" data-v-c3057263>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c3057263 data-v-6ab1da6f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ab1da6f><span class="text" data-v-6ab1da6f><!----><span data-v-6ab1da6f>Docs</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ab1da6f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ab1da6f><div class="VPMenu" data-v-6ab1da6f data-v-83bfd49c><div class="items" data-v-83bfd49c><!--[--><!--[--><div class="VPMenuGroup" data-v-83bfd49c data-v-60b2921d><p class="title" data-v-60b2921d>Getting Started</p><!--[--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link" href="/en/guide/introduction.html" data-v-59eab3fb><!--[-->Introduction<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link" href="/en/guide/quick-start.html" data-v-59eab3fb><!--[-->Quick Start<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-83bfd49c data-v-60b2921d><p class="title" data-v-60b2921d>docs</p><!--[--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link" href="/en/docs/deployment.html" data-v-59eab3fb><!--[-->k8s Deployment<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link active" href="/en/docs/application-integration.html" data-v-59eab3fb><!--[-->Application Integration<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link" href="/en/docs/manual.html" data-v-59eab3fb><!--[-->manual<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c3057263 data-v-6ab1da6f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ab1da6f><span class="text" data-v-6ab1da6f><!----><span data-v-6ab1da6f>Resources</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ab1da6f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ab1da6f><div class="VPMenu" data-v-6ab1da6f data-v-83bfd49c><div class="items" data-v-83bfd49c><!--[--><!--[--><div class="VPMenuGroup" data-v-83bfd49c data-v-60b2921d><p class="title" data-v-60b2921d>Help</p><!--[--><!--[--><div class="VPMenuLink" data-v-60b2921d data-v-59eab3fb><a class="VPLink link vp-external-link-icon" href="https://github.com/apache/ozhera/discussions" target="_blank" rel="noreferrer" data-v-59eab3fb><!--[-->GitHub Discussions<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c3057263 data-v-6ab1da6f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ab1da6f><span class="text" data-v-6ab1da6f><!----><span data-v-6ab1da6f>About</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ab1da6f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ab1da6f><div class="VPMenu" data-v-6ab1da6f data-v-83bfd49c><div class="items" data-v-83bfd49c><!--[--><!--[--><div class="VPMenuLink" data-v-83bfd49c data-v-59eab3fb><a class="VPLink link" href="/en/about/community.html" data-v-59eab3fb><!--[-->Community<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-83bfd49c data-v-59eab3fb><a class="VPLink link" href="/en/about/spec-guide.html" data-v-59eab3fb><!--[-->Specification Guide<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-a63be76e data-v-a93c8e06 data-v-6ab1da6f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-6ab1da6f><span class="text" data-v-6ab1da6f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-6ab1da6f><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg><!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ab1da6f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ab1da6f><div class="VPMenu" data-v-6ab1da6f data-v-83bfd49c><!----><!--[--><!--[--><div class="items" data-v-a93c8e06><p class="title" data-v-a93c8e06>English</p><!--[--><div class="VPMenuLink" data-v-a93c8e06 data-v-59eab3fb><a class="VPLink link" href="/zh/docs/application-integration.html" data-v-59eab3fb><!--[-->中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-a63be76e data-v-189112e2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-189112e2 data-v-bb9b0e56 data-v-817dcc84><span class="check" data-v-817dcc84><span class="icon" data-v-817dcc84><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bb9b0e56><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bb9b0e56><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a63be76e data-v-b2c4fa23 data-v-f1334b01><!--[--><a class="VPSocialLink no-icon" href="https://github.com/apache/ozhera" aria-label="github" target="_blank" rel="noopener" data-v-f1334b01 data-v-7edb934f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a63be76e data-v-73e792d7 data-v-6ab1da6f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ab1da6f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ab1da6f><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ab1da6f><div class="VPMenu" data-v-6ab1da6f data-v-83bfd49c><!----><!--[--><!--[--><div class="group translations" data-v-73e792d7><p class="trans-title" data-v-73e792d7>English</p><!--[--><div class="VPMenuLink" data-v-73e792d7 data-v-59eab3fb><a class="VPLink link" href="/zh/docs/application-integration.html" data-v-59eab3fb><!--[-->中文<!--]--></a></div><!--]--></div><div class="group" data-v-73e792d7><div class="item appearance" data-v-73e792d7><p class="label" data-v-73e792d7>Appearance</p><div class="appearance-action" data-v-73e792d7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-73e792d7 data-v-bb9b0e56 data-v-817dcc84><span class="check" data-v-817dcc84><span class="icon" data-v-817dcc84><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bb9b0e56><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bb9b0e56><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-73e792d7><div class="item social-links" data-v-73e792d7><div class="VPSocialLinks social-links-list" data-v-73e792d7 data-v-f1334b01><!--[--><a class="VPSocialLink no-icon" href="https://github.com/apache/ozhera" aria-label="github" target="_blank" rel="noopener" data-v-f1334b01 data-v-7edb934f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a63be76e data-v-2f3c18a6><span class="container" data-v-2f3c18a6><span class="top" data-v-2f3c18a6></span><span class="middle" data-v-2f3c18a6></span><span class="bottom" data-v-2f3c18a6></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-71011c1a data-v-a1da7c63><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a1da7c63><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a1da7c63><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a1da7c63>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a1da7c63 data-v-f59df57b><button data-v-f59df57b>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-71011c1a data-v-8b047d0b><div class="curtain" data-v-8b047d0b></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-8b047d0b><span class="visually-hidden" id="sidebar-aria-label" data-v-8b047d0b> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-8b047d0b><section class="VPSidebarItem level-0" data-v-8b047d0b data-v-e8d6fac0><div class="item" role="button" tabindex="0" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><h2 class="text" data-v-e8d6fac0>Getting Started</h2><!----></div><div class="items" data-v-e8d6fac0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e8d6fac0 data-v-e8d6fac0><div class="item" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><a class="VPLink link link" href="/en/guide/introduction.html" data-v-e8d6fac0><!--[--><p class="text" data-v-e8d6fac0>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e8d6fac0 data-v-e8d6fac0><div class="item" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><a class="VPLink link link" href="/en/guide/quick-start.html" data-v-e8d6fac0><!--[--><p class="text" data-v-e8d6fac0>Quick Start</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-8b047d0b><section class="VPSidebarItem level-0 has-active" data-v-8b047d0b data-v-e8d6fac0><div class="item" role="button" tabindex="0" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><h2 class="text" data-v-e8d6fac0>Documentation</h2><!----></div><div class="items" data-v-e8d6fac0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e8d6fac0 data-v-e8d6fac0><div class="item" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><a class="VPLink link link" href="/en/docs/deployment.html" data-v-e8d6fac0><!--[--><p class="text" data-v-e8d6fac0>k8s Deployment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e8d6fac0 data-v-e8d6fac0><div class="item" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><a class="VPLink link link" href="/en/docs/application-integration.html" data-v-e8d6fac0><!--[--><p class="text" data-v-e8d6fac0>Application Integration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e8d6fac0 data-v-e8d6fac0><div class="item" data-v-e8d6fac0><div class="indicator" data-v-e8d6fac0></div><a class="VPLink link link" href="/en/docs/manual.html" data-v-e8d6fac0><!--[--><p class="text" data-v-e8d6fac0>Manual</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-71011c1a data-v-a1ff5652><div class="VPDoc has-sidebar has-aside" data-v-a1ff5652 data-v-d46edd38><!--[--><!--]--><div class="container" data-v-d46edd38><div class="aside" data-v-d46edd38><div class="aside-curtain" data-v-d46edd38></div><div class="aside-container" data-v-d46edd38><div class="aside-content" data-v-d46edd38><div class="VPDocAside" data-v-d46edd38 data-v-e9864b31><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-e9864b31 data-v-cc4ac93a><div class="content" data-v-cc4ac93a><div class="outline-marker" data-v-cc4ac93a></div><div class="outline-title" role="heading" data-v-cc4ac93a>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-cc4ac93a><span class="visually-hidden" id="doc-outline-aria-label" data-v-cc4ac93a> Table of Contents for current page </span><ul class="root" data-v-cc4ac93a data-v-1f2d64fa><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e9864b31></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d46edd38><div class="content-container" data-v-d46edd38><!--[--><!--]--><!----><main class="main" data-v-d46edd38><div style="position:relative;" class="vp-doc _en_docs_application-integration" data-v-d46edd38><div><h1 id="ozhera-integration-documentation" tabindex="-1">OzHera Integration Documentation <a class="header-anchor" href="#ozhera-integration-documentation" aria-label="Permalink to &quot;OzHera Integration Documentation&quot;">​</a></h1><h2 id="dependencies-for-application-deployment" tabindex="-1">Dependencies for Application Deployment <a class="header-anchor" href="#dependencies-for-application-deployment" aria-label="Permalink to &quot;Dependencies for Application Deployment&quot;">​</a></h2><p>Applications integrating with OzHera require probes, JVM parameters, environment variables, and the log-agent service.</p><h3 id="_1-probes" tabindex="-1">1. Probes <a class="header-anchor" href="#_1-probes" aria-label="Permalink to &quot;1. Probes&quot;">​</a></h3><p>Upon completion of the probe build, a jar related to opentelemetry will be generated. When deploying the project, this jar file should be placed on the server. This allows the probe to be utilized in the JVM parameters through the <code>-javaagent</code>. We have packaged a default version of the probe based on the open-source version, which can be used directly.</p><h3 id="_2-jvm-parameters" tabindex="-1">2. JVM Parameters <a class="header-anchor" href="#_2-jvm-parameters" aria-label="Permalink to &quot;2. JVM Parameters&quot;">​</a></h3><p>First, take the user-defined value. If it&#39;s empty, take the value configured in Nacos with DataId as <code>hera_javaagent_config</code>. If that&#39;s empty too, set the default value. Mandatory items need to be set by the user manually; failure to set might cause the probe to be ineffective.</p><table><thead><tr><th>Variables</th><th style="text-align:center;">Mandatory indicators</th><th>Default values</th><th>Comments</th></tr></thead><tbody><tr><td>-javaagent:/opt/soft/opentelemetry-javaagent-all-0.0.1.jar</td><td style="text-align:center;">true</td><td></td><td>Used to indicate the location of the javaagent probe jar package on the server, <br> we usually rename the probe&#39;s jar file to opentelemetry-javaagent-all-0.0.1.jar and place it in the /opt/soft directory on the server.</td></tr><tr><td nacosurl="">-Dotel.exporter.prometheus.nacos.addr=$</td><td style="text-align:center;">true</td><td></td><td>Nacos address</td></tr><tr><td>-Dotel.resource.attributes=service.name=1-test</td><td style="text-align:center;">false</td><td>none</td><td>Used to represent the application name of the current service. The format is appId-appName. For example: 1-test, where &quot;1&quot; is the appId and &quot;test&quot; is the appName. <br> If it is empty, the default used in the program is &quot;none&quot;. The application is a very important piece of metadata in OzHera, and observable data presentations are all related to the application.</td></tr><tr><td>-Dotel.traces.exporter=log4j2</td><td style="text-align:center;">false</td><td>log4j2</td><td>Used to indicate the trace export method, which is to output the trace to log files via log4j2. The default is to use log4j2.</td></tr><tr><td>-Dotel.exporter.log.isasync=true</td><td style="text-align:center;">false</td><td>true</td><td>Used to indicate whether to enable asynchronous logging with log4j2. Generally, for performance reasons, it would be set to &quot;true&quot;. It only takes effect when the value of <code>-Dotel.traces.exporter</code> is <code>log4j2</code>.</td></tr><tr><td>-Dotel.metrics.exporter=prometheus</td><td style="text-align:center;">false</td><td>prometheus</td><td>Used to indicate the metrics export method. The default is to use Prometheus.</td></tr><tr><td>-Dotel.javaagent.exclude-classes=com.dianping.cat.*</td><td style="text-align:center;">false</td><td>com.dianping.cat.*</td><td>Used to filter packages that are not intercepted by the probe. If you are using &quot;cat&quot;, you need to filter out the directory where &quot;cat&quot; resides.</td></tr><tr><td>-Dotel.exporter.log.pathprefix=/home/work/log/</td><td style="text-align:center;">false</td><td>/home/work/log/</td><td>Used to indicate the location of log4j2 logs. Here, the log4j2 logs will be outputted to the location represented by the environment variable named MIONE_LOG_PATH. If this environment variable does not exist, it will be outputted to the <code>-Dotel.exporter.log.pathprefix</code> \ <code>MIONE_PROJECT_NAME</code> directory.<br>Note: In k8s, this directory needs to be mounted so that the log collection container can access it.</td></tr><tr><td>-Dotel.propagators=tracecontext</td><td style="text-align:center;">false</td><td>tracecontext</td><td>Used to indicate the processing type for trace transmission. Currently, only &quot;tracecontext&quot; has been used.</td></tr></tbody></table><h3 id="_3-environment-variables" tabindex="-1">3. Environment Variables <a class="header-anchor" href="#_3-environment-variables" aria-label="Permalink to &quot;3. Environment Variables&quot;">​</a></h3><p>Similar to the JVM parameters, first take the user-defined value. If it&#39;s empty, take the value from Nacos with DataId as <code>hera_javaagent_config</code>. If that&#39;s empty, then set to the default value. Mandatory items need to be set manually; failure to set might cause the probe to be ineffective.</p><table><thead><tr><th>Variables</th><th style="text-align:center;">Mandatory indicators</th><th>Default values</th><th>Comments</th></tr></thead><tbody><tr><td>MIONE_PROJECT_ENV_NAME</td><td style="text-align:center;">true</td><td>default</td><td>Name of the current deployment environment, e.g., dev, uat, st, preview, production. If not provided, &#39;default&#39; is used by default.</td></tr><tr><td>MIONE_PROJECT_ENV_ID</td><td style="text-align:center;">true</td><td></td><td>ID of the current deployment environment. The environment id and environment name can be used in OzHera&#39;s metric monitoring to view monitoring charts based on different environments.</td></tr><tr><td>MIONE_PROJECT_NAME</td><td style="text-align:center;">true</td><td>none</td><td>Represents the current service&#39;s application name. The format is appId-appName. E.g., 1-test, where 1 is the appId, and test is the appName. If left empty, &#39;none&#39; is used by default in the program. Applications are a crucial metadata in OzHera, and all observability data displays are related to the application.</td></tr><tr><td>host.ip</td><td style="text-align:center;">false</td><td></td><td>Used to record the current physical machine IP, displayed in the trace&#39;s process.tags. In k8s, it retrieves the pod&#39;s IP. In K8s, when deploying using the ozhera-operator, this environment variable is auto-generated by the webhook.</td></tr><tr><td>node.ip</td><td style="text-align:center;">false</td><td></td><td>Used to record the IP of the current node in k8s; if not deployed in k8s, there&#39;s no need to set this. In K8s, when deploying using the ozhera-operator, this environment variable is auto-generated by the webhook.</td></tr><tr><td>JAVAAGENT_PROMETHEUS_PORT</td><td style="text-align:center;">false</td><td>55433</td><td>The available port number of the current physical machine, used by the httpServer that provides Prometheus to pull jvm metrics. If left empty, the program defaults to using 55433.</td></tr><tr><td>hera.buildin.k8s</td><td style="text-align:center;">false</td><td>1</td><td>Used to record whether the service is deployed in k8s. If the service is in k8s, it&#39;s marked as 1. If not deployed in k8s, it can be set to 2. The default is 1. If debugging locally, you can set it to 2.</td></tr><tr><td>application</td><td style="text-align:center;">false</td><td></td><td>Converts all hyphens in the <code>MIONE_PROJECT_NAME</code> value to underscores, used for container monitoring&#39;s extended metrics. In K8s, when deploying using the ozhera-operator, this environment variable is auto-generated by the webhook.</td></tr><tr><td>serverEnv</td><td style="text-align:center;">false</td><td></td><td>The value is the same as MIONE_PROJECT_ENV_NAME, used for the extended metrics in container monitoring. In K8s, when deploying using the ozhera-operator, this environment variable is auto-generated by the webhook.</td></tr></tbody></table><h3 id="_4、log-agent" tabindex="-1">4、log-agent <a class="header-anchor" href="#_4、log-agent" aria-label="Permalink to &quot;4、log-agent&quot;">​</a></h3><p>Currently, OzHera uses the log-agent to collect both trace and log. The log-agent should be deployed as a sidecar along with the application in the same container. Additionally, the directories for logs to be collected and trace logs should both be mounted, enabling the log-agent to access them.</p><h3 id="_5-sample-application-dockerfile-and-k8s-yaml-files" tabindex="-1">5. Sample Application Dockerfile and K8S yaml Files <a class="header-anchor" href="#_5-sample-application-dockerfile-and-k8s-yaml-files" aria-label="Permalink to &quot;5. Sample Application Dockerfile and K8S yaml Files&quot;">​</a></h3><p>The Dockerfile and K8S yaml file used in our demo project are presented below. These can be referenced for probe, JVM, environment variables, and log-agent configurations in the ozhera-demo-client application.</p><p>Dockerfile</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">FROM openjdk:8-jre</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">COPY ./ozhera-demo-client-1.0.0-SNAPSHOT.jar /home/work/ozhera-demo-client-1.0.0-SNAPSHOT.jar</span></span>
<span class="line"><span style="color:#e1e4e8;">COPY ./opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar /opt/soft/opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">ENTRYPOINT [&quot;java&quot;,&quot;-javaagent:/opt/soft/opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar&quot;,&quot;-Dotel.exporter.prometheus.nacos.addr=nacos:80&quot;,</span></span>
<span class="line"><span style="color:#e1e4e8;">&quot;-Xloggc:/home/work/log/gc.log&quot;,&quot;-Duser.timezone=Asia/Shanghai&quot;,&quot;-XX:+HeapDumpOnOutOfMemoryError&quot;,&quot;-XX:HeapDumpPath=/home/dum/oom.dump&quot;,&quot;-jar&quot;,</span></span>
<span class="line"><span style="color:#e1e4e8;">&quot;/home/work/ozhera-demo-client-1.0.0-SNAPSHOT.jar&quot;,&quot;&amp;&amp;&quot;,&quot;tail&quot;,&quot;-f&quot;,&quot;/dev/null&quot;]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">FROM openjdk:8-jre</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">COPY ./ozhera-demo-client-1.0.0-SNAPSHOT.jar /home/work/ozhera-demo-client-1.0.0-SNAPSHOT.jar</span></span>
<span class="line"><span style="color:#24292e;">COPY ./opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar /opt/soft/opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">ENTRYPOINT [&quot;java&quot;,&quot;-javaagent:/opt/soft/opentelemetry-javaagent-0.1.0-SNAPSHOT-all.jar&quot;,&quot;-Dotel.exporter.prometheus.nacos.addr=nacos:80&quot;,</span></span>
<span class="line"><span style="color:#24292e;">&quot;-Xloggc:/home/work/log/gc.log&quot;,&quot;-Duser.timezone=Asia/Shanghai&quot;,&quot;-XX:+HeapDumpOnOutOfMemoryError&quot;,&quot;-XX:HeapDumpPath=/home/dum/oom.dump&quot;,&quot;-jar&quot;,</span></span>
<span class="line"><span style="color:#24292e;">&quot;/home/work/ozhera-demo-client-1.0.0-SNAPSHOT.jar&quot;,&quot;&amp;&amp;&quot;,&quot;tail&quot;,&quot;-f&quot;,&quot;/dev/null&quot;]</span></span></code></pre></div><p>K8S yaml</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">apiVersion: apps/v1</span></span>
<span class="line"><span style="color:#e1e4e8;">kind: Deployment</span></span>
<span class="line"><span style="color:#e1e4e8;">metadata:</span></span>
<span class="line"><span style="color:#e1e4e8;">  name: ozhera-demo-client</span></span>
<span class="line"><span style="color:#e1e4e8;">  namespace: demo</span></span>
<span class="line"><span style="color:#e1e4e8;">  labels:</span></span>
<span class="line"><span style="color:#e1e4e8;">    app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#e1e4e8;">spec:</span></span>
<span class="line"><span style="color:#e1e4e8;">  replicas: 1</span></span>
<span class="line"><span style="color:#e1e4e8;">  selector:</span></span>
<span class="line"><span style="color:#e1e4e8;">    matchLabels:</span></span>
<span class="line"><span style="color:#e1e4e8;">      app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#e1e4e8;">  template:</span></span>
<span class="line"><span style="color:#e1e4e8;">    metadata:</span></span>
<span class="line"><span style="color:#e1e4e8;">      labels:</span></span>
<span class="line"><span style="color:#e1e4e8;">        app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#e1e4e8;">    spec:</span></span>
<span class="line"><span style="color:#e1e4e8;">      containers:</span></span>
<span class="line"><span style="color:#e1e4e8;">      - name: ozhera-demo-client-container</span></span>
<span class="line"><span style="color:#e1e4e8;">        image: demo/ozhera-demo-client:v1</span></span>
<span class="line"><span style="color:#e1e4e8;">        env:</span></span>
<span class="line"><span style="color:#e1e4e8;">          - name: MIONE_PROJECT_ENV_NAME</span></span>
<span class="line"><span style="color:#e1e4e8;">            value: dev</span></span>
<span class="line"><span style="color:#e1e4e8;">          - name: MIONE_PROJECT_ENV_ID</span></span>
<span class="line"><span style="color:#e1e4e8;">            value: &#39;2&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">          - name: MIONE_PROJECT_NAME</span></span>
<span class="line"><span style="color:#e1e4e8;">            value: 2-ozhera-demo-client</span></span>
<span class="line"><span style="color:#e1e4e8;">        volumeMounts:</span></span>
<span class="line"><span style="color:#e1e4e8;">          - name: log-path</span></span>
<span class="line"><span style="color:#e1e4e8;">            mountPath: /home/work/log</span></span>
<span class="line"><span style="color:#e1e4e8;">        resources:</span></span>
<span class="line"><span style="color:#e1e4e8;">          limits:</span></span>
<span class="line"><span style="color:#e1e4e8;">            cpu: &#39;500m&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">            memory: 2Gi</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      - name: log-agent</span></span>
<span class="line"><span style="color:#e1e4e8;">        image: demo/log-agent:v1</span></span>
<span class="line"><span style="color:#e1e4e8;">        volumeMounts:</span></span>
<span class="line"><span style="color:#e1e4e8;">        - mountPath: &quot;/home/work/log&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">          name: log-path</span></span>
<span class="line"><span style="color:#e1e4e8;">        resources:</span></span>
<span class="line"><span style="color:#e1e4e8;">          limits:</span></span>
<span class="line"><span style="color:#e1e4e8;">            cpu: &#39;300m&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">            memory: 1Gi</span></span>
<span class="line"><span style="color:#e1e4e8;">      volumes:</span></span>
<span class="line"><span style="color:#e1e4e8;">      - name: log-path</span></span>
<span class="line"><span style="color:#e1e4e8;">        emptyDir: {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">apiVersion: apps/v1</span></span>
<span class="line"><span style="color:#24292e;">kind: Deployment</span></span>
<span class="line"><span style="color:#24292e;">metadata:</span></span>
<span class="line"><span style="color:#24292e;">  name: ozhera-demo-client</span></span>
<span class="line"><span style="color:#24292e;">  namespace: demo</span></span>
<span class="line"><span style="color:#24292e;">  labels:</span></span>
<span class="line"><span style="color:#24292e;">    app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#24292e;">spec:</span></span>
<span class="line"><span style="color:#24292e;">  replicas: 1</span></span>
<span class="line"><span style="color:#24292e;">  selector:</span></span>
<span class="line"><span style="color:#24292e;">    matchLabels:</span></span>
<span class="line"><span style="color:#24292e;">      app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#24292e;">  template:</span></span>
<span class="line"><span style="color:#24292e;">    metadata:</span></span>
<span class="line"><span style="color:#24292e;">      labels:</span></span>
<span class="line"><span style="color:#24292e;">        app: ozhera-demo-client</span></span>
<span class="line"><span style="color:#24292e;">    spec:</span></span>
<span class="line"><span style="color:#24292e;">      containers:</span></span>
<span class="line"><span style="color:#24292e;">      - name: ozhera-demo-client-container</span></span>
<span class="line"><span style="color:#24292e;">        image: demo/ozhera-demo-client:v1</span></span>
<span class="line"><span style="color:#24292e;">        env:</span></span>
<span class="line"><span style="color:#24292e;">          - name: MIONE_PROJECT_ENV_NAME</span></span>
<span class="line"><span style="color:#24292e;">            value: dev</span></span>
<span class="line"><span style="color:#24292e;">          - name: MIONE_PROJECT_ENV_ID</span></span>
<span class="line"><span style="color:#24292e;">            value: &#39;2&#39;</span></span>
<span class="line"><span style="color:#24292e;">          - name: MIONE_PROJECT_NAME</span></span>
<span class="line"><span style="color:#24292e;">            value: 2-ozhera-demo-client</span></span>
<span class="line"><span style="color:#24292e;">        volumeMounts:</span></span>
<span class="line"><span style="color:#24292e;">          - name: log-path</span></span>
<span class="line"><span style="color:#24292e;">            mountPath: /home/work/log</span></span>
<span class="line"><span style="color:#24292e;">        resources:</span></span>
<span class="line"><span style="color:#24292e;">          limits:</span></span>
<span class="line"><span style="color:#24292e;">            cpu: &#39;500m&#39;</span></span>
<span class="line"><span style="color:#24292e;">            memory: 2Gi</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      - name: log-agent</span></span>
<span class="line"><span style="color:#24292e;">        image: demo/log-agent:v1</span></span>
<span class="line"><span style="color:#24292e;">        volumeMounts:</span></span>
<span class="line"><span style="color:#24292e;">        - mountPath: &quot;/home/work/log&quot;</span></span>
<span class="line"><span style="color:#24292e;">          name: log-path</span></span>
<span class="line"><span style="color:#24292e;">        resources:</span></span>
<span class="line"><span style="color:#24292e;">          limits:</span></span>
<span class="line"><span style="color:#24292e;">            cpu: &#39;300m&#39;</span></span>
<span class="line"><span style="color:#24292e;">            memory: 1Gi</span></span>
<span class="line"><span style="color:#24292e;">      volumes:</span></span>
<span class="line"><span style="color:#24292e;">      - name: log-path</span></span>
<span class="line"><span style="color:#24292e;">        emptyDir: {}</span></span></code></pre></div><h2 id="input-into-tpc" tabindex="-1">Input into TPC <a class="header-anchor" href="#input-into-tpc" aria-label="Permalink to &quot;Input into TPC&quot;">​</a></h2><p>OzHera uses the TPC system to input, sync, and manage application metadata information, as well as relationships between applications and users.</p><h3 id="_1-registration-and-login-to-tpc" tabindex="-1">1. Registration and Login to TPC <a class="header-anchor" href="#_1-registration-and-login-to-tpc" aria-label="Permalink to &quot;1. Registration and Login to TPC&quot;">​</a></h3><p>One needs to visit the TPC page link generated through the ozhera-operator.</p><p><img src="/images/operator-url.png" alt="operator-url"></p><p>When accessing without logging in, it redirects to the TPC login page. If it&#39;s the first visit, we need to register the TPC super admin account. This account is used for creating projects and authorizations. The super admin username must be: <a href="mailto:tpc@tpc.com" target="_blank" rel="noreferrer">tpc@tpc.com</a>. The password can be customized. After registration, we log in using <a href="mailto:tpc@tpc.com" target="_blank" rel="noreferrer">tpc@tpc.com</a>.</p><p><img src="/images/tpc-login.png" alt="tpc-login"></p><h3 id="_2-enter-application-information" tabindex="-1">2. Enter Application Information <a class="header-anchor" href="#_2-enter-application-information" aria-label="Permalink to &quot;2. Enter Application Information&quot;">​</a></h3><p>After successful login, you&#39;ll land on the TPC homepage. Under the node information on the TPC homepage&#39;s sub-node, a node named &#39;hera&#39; will be created by default. This node represents a project group. To integrate with OzHera, one must first maintain the application information under this project group.</p><p><img src="/images/tpc-node1.png" alt="tpc-node1"></p><p>Clicking on the OzHera node takes us into the OzHera project group. By default, a logger project will be created within the OzHera project group, which is used in OzHera logs and can be ignored. Clicking the &quot;Add&quot; button highlighted in the image will pop up a dialog box to create a new project.</p><p><img src="/images/tpc-node2.png" alt="tpc-node2"></p><p>Select the node type as &quot;Project&quot;, enter the name of our application for the node name, and enter the account of the current application member as the admin. Of course, this account needs to be registered on TPC in advance. When entering application information, there are two scenarios:</p><ul><li>First, if we already have application data, and there&#39;s an id in the application data, we can enter our existing application id by maintaining the external node id on TPC. Here, I use the application from the previous section &quot;I. Application Deployment Dependencies&quot; under &quot;Application Dockerfile &amp; K8S yaml file examples&quot; for entry, as shown below:</li></ul><p><img src="/images/tpc-add-node1.png" alt="tpc-add-node1"></p><ul><li>Second, if we only have the name of the application but no application id, we don&#39;t need to fill in the &quot;External Node Type&quot; and &quot;External Node ID&quot;. After TPC creates the application, it will automatically generate an id for this application. Click on the application node detail button, and in the application &quot;Node Information&quot;, we can see the id of the application, as shown below:</li></ul><p><img src="/images/tpc-add-node2.png" alt="tpc-add-node2"></p><p><img src="/images/tpc-node-id1.png" alt="tpc-node-id1"></p><p><img src="/images/tpc-node-id2.png" alt="tpc-node-id2"></p><p>Regardless of the scenario, note that both the application id and application name must be consistent with the JVM parameters <code>-Dotel.resource.attributes=service.name</code> or the environment variable <code>MIONE_PROJECT_NAME</code>.</p><h3 id="_3-application-and-user-permissions" tabindex="-1">3. Application and User Permissions <a class="header-anchor" href="#_3-application-and-user-permissions" aria-label="Permalink to &quot;3. Application and User Permissions&quot;">​</a></h3><p>If we want to add an admin to a particular application, allowing them to have the permissions to configure that application on OzHera, we can find the application in TPC, click on the application name, enter the node details, and in the &quot;Members&quot; tab of the application node, click the add button. This allows us to add someone&#39;s account as an admin.</p><p><img src="/images/tpc-role1.png" alt="tpc-role1"></p><p><img src="/images/tpc-add-role1.png" alt="tpc-add-role1"></p><h2 id="configuring-log-collection" tabindex="-1">Configuring Log Collection <a class="header-anchor" href="#configuring-log-collection" aria-label="Permalink to &quot;Configuring Log Collection&quot;">​</a></h2><p>Since logs and trace data in OzHera are collected by log-agent, we need to configure collection information in OzHera log settings, instructing the log-agent where to collect and where to send the data after collection.</p><h3 id="_1-accessing-ozhera-logging-page" tabindex="-1">1. Accessing OzHera Logging Page <a class="header-anchor" href="#_1-accessing-ozhera-logging-page" aria-label="Permalink to &quot;1. Accessing OzHera Logging Page&quot;">​</a></h3><p>We access the ozhera homepage link generated by the operator, and in the homepage title, click &quot;Logging Service&quot; to enter the OzHera logging interface.</p><p><img src="/images/operator-url2.png" alt="operator-url2"></p><p><img src="/images/hera-log1.png" alt="hera-log1"></p><h3 id="_2-configuring-logging-resources-default-resources-will-be-automatically-created-later" tabindex="-1">2. Configuring Logging Resources (default resources will be automatically created later) <a class="header-anchor" href="#_2-configuring-logging-resources-default-resources-will-be-automatically-created-later" aria-label="Permalink to &quot;2. Configuring Logging Resources (default resources will be automatically created later)&quot;">​</a></h3><p>In the logging page sidebar, click on Resource Management and fill in the RocketMQ and ES resource details.</p><h4 id="_1-rocketmq" tabindex="-1">(1) RocketMQ <a class="header-anchor" href="#_1-rocketmq" aria-label="Permalink to &quot;(1) RocketMQ&quot;">​</a></h4><ul><li>Alias: Alias for RocketMQ resources, can be customized</li><li>Region: Choose &quot;Mainland Data Center&quot;</li><li>MQ Address: The address of RocketMQ, formatted as host:port</li><li>MQ Domain: Domain name of the RocketMQ address</li><li>AK: RocketMQ&#39;s accessKey, if none, leave blank</li><li>SK: RocketMQ&#39;s secretKey, if none, leave blank</li><li>BrokerName: Enter the brokerName of RocketMQ, which can be viewed in the RocketMQ dashboard. The purpose is to create the required topic for logs, the default is broker-0</li><li>Tag List: List of tags for RocketMQ, if none, leave blank</li></ul><p><img src="/images/hera-log-mq1.png" alt="hera-log-mq1"></p><h4 id="_2-es" tabindex="-1">(2) ES <a class="header-anchor" href="#_2-es" aria-label="Permalink to &quot;(2) ES&quot;">​</a></h4><ul><li>Alias: Alias for ES resources, can be customized</li><li>Region: Choose &quot;Mainland Data Center&quot;</li><li>ES Cluster Name: Same as Alias</li><li>ES API Address: Address of ES, formatted as host:port</li><li>Connection Method: Choose the method to connect to ES, either &quot;Username and Password&quot; or &quot;Token&quot;. If none for username, password, and token, leave blank.</li><li>Tag List: If none, leave blank</li><li>ES Index Group: An index group will be created by default for each log type, but users need to configure these four index groups separately: <ul><li>Multi-line Application Log: mione_hera_log_multiple_app_log01</li><li>Single-line Application Log: mione_hera_log_single_app_log01</li><li>Nginx Log: mione_hera_log_nginx_app_log01</li><li>Opentelemetry Log: mione_hera_log_other_app_log01</li></ul></li></ul><p><img src="/images/hera-log-es.png" alt="hera-log-es"></p><h3 id="_3-creating-space" tabindex="-1">3. Creating Space <a class="header-anchor" href="#_3-creating-space" aria-label="Permalink to &quot;3. Creating Space&quot;">​</a></h3><p>After configuring the resources, we need to create the configurations for space, store, and tail. Firstly, on the OzHera logging service homepage, click &quot;Immediate Access&quot;, and it leads to the logging access page. Click on the &quot;Create&quot; option next to Space to create a new space. A Space is generally at the department or organizational level.</p><p>Note: After creating a Space, one needs to authorize it under the hera-logger space node on TPC.</p><p><img src="/images/hera-log2.png" alt="hera-log2"></p><p><img src="/images/log-space1.png" alt="log-space1"></p><p><img src="/images/log-space2.png" alt="log-space2"></p><h3 id="_4-creating-store" tabindex="-1">4. Creating Store <a class="header-anchor" href="#_4-creating-store" aria-label="Permalink to &quot;4. Creating Store&quot;">​</a></h3><p>After creating Space, select the newly created Space from the drop-down menu under Space. Click on the &quot;Create&quot; option next to Logstore to create a store.</p><p><img src="/images/log-store1.png" alt="log-store1"></p><p><img src="/images/log-store2.png" alt="log-store2"></p><h3 id="_5-creating-tail" tabindex="-1">5. Creating Tail <a class="header-anchor" href="#_5-creating-tail" aria-label="Permalink to &quot;5. Creating Tail&quot;">​</a></h3><ul><li>Application Type: Choose OzHera</li><li>Deployment Method: Choose Mione</li><li>Service Application Name: Choose the application to be integrated</li><li>Service Alias: Can be customized</li><li>Environment Group: Choose the environment to be integrated</li><li>Service IP: It&#39;s automatically populated after choosing the environment and needs to be selected. If not available, it can be added manually.</li><li>Log File Directory: Output location of the application log file, specific to the filename.</li><li>Split Expression: Naming rule for log file splitting <ul><li>If after splitting the log, it isn&#39;t in the current directory and the prefix of the split file&#39;s name isn&#39;t the log&#39;s name, one has to manually enter the split expression. For example: /home/work/logs/applogs/old/shopapi_application.log-.*. Otherwise, leave it blank.</li><li>Line Beginning Regular Expression: e.g., ^2022-* .*$</li><li>Log Parsing Type: Delimiter, Custom, Regular, JSON, Nginx</li><li>Parsing Script: <ul><li>Delimiter: How each segment is split. Enter the delimiter that splits your log.</li><li>Custom: If it&#39;s more complex, where each part might have different splits, use Custom. For example: [%s]-[%s]-[%s]-[%s]-[%s]-%s. It will look for each segment based on %s, the prefix and suffix of each segment.</li><li>Regular: Enter a regular expression, extracting fields based on capture groups.</li><li>Nginx: Enter the Nginx log format configuration, for example: log_format milog2 &#39;$time_iso8601\t$msec\t$host\t$request_method\t$scheme\t$status\t&#39; &#39;$upstream_addr\t$upstream_cache_status\t$upstream_status\t&#39; &#39;$server_addr\t$remote_addr\t$http_x_forwarded_for\t&#39; &#39;$request_length\t$request_time\t$bytes_sent\t$upstream_response_time\t&#39; &#39;$upstream_connect_time\t $upstream_header_time\t$upstream_response_length\t$upstream_bytes_received\t&#39; &#39;$request_uri\t&quot;$http_user_agent&quot;\t&#39; &#39;$sent_http_x_xiaomi_error_code&#39;;</li></ul></li><li>Collection Rate: How often logs are sent during collection to control the sending rate.</li><li>MQ Configuration: Can be left blank. By default, the log message will be randomly sent to a topic.</li><li>Index Column: The meaning of each part of the log. This is selected from the current store, and the order must match the actual order of fields in the log. The index column of the store must be the most, to avoid not having a choice during tail selection.</li></ul></li></ul><p><img src="/images/log-tail1.png" alt="log-tail1"></p><p><img src="/images/log-tail2.png" alt="log-tail2"></p><p>Once the configuration is completed, after waiting for a few seconds, the logs can be viewed on the log page.</p><p><img src="/images/hera-log3.png" alt="hera-log3"></p><h3 id="_6-configuring-trace-collection-can-be-automatically-created-later" tabindex="-1">6. Configuring Trace Collection (can be automatically created later) <a class="header-anchor" href="#_6-configuring-trace-collection-can-be-automatically-created-later" aria-label="Permalink to &quot;6. Configuring Trace Collection (can be automatically created later)&quot;">​</a></h3><p>In OzHera, trace information is collected through log-agent in OzHera logs. We treat trace information as a special type of log for collection, so trace collection information still needs to be configured on OzHera logs. Just follow the configurations below.</p><h4 id="_1-create-trace-space" tabindex="-1">(1) Create trace-space <a class="header-anchor" href="#_1-create-trace-space" aria-label="Permalink to &quot;(1) Create trace-space&quot;">​</a></h4><p><img src="/images/log-space3.png" alt="log-space3"></p><h4 id="_2-create-trace-store" tabindex="-1">(2) Create trace-store <a class="header-anchor" href="#_2-create-trace-store" aria-label="Permalink to &quot;(2) Create trace-store&quot;">​</a></h4><p>For log type, choose &quot;opentelemetry log&quot;. Other configurations can be left as default.</p><p><img src="/images/log-store3.png" alt="log-store3"></p><h4 id="_3-create-trace-tail" tabindex="-1">(3) Create trace-tail <a class="header-anchor" href="#_3-create-trace-tail" aria-label="Permalink to &quot;(3) Create trace-tail&quot;">​</a></h4><p>Creating a tail for trace is similar to creating one for a regular application, but the configurations are more fixed.</p><ul><li>Service Application Name: Can only choose china_log-agent</li><li>Service Group: Choose default_env</li><li>Service IP: Select all</li><li>Log File Path: Enter &quot;/home/work/log/*/trace.log&quot;. It will scan and collect all trace.log files under /home/work/log.</li><li>Collection Rate: Choose fast collection</li><li>MQ Configuration: Choose the RocketMQ cluster configured in log resources. The following is to fill in the topic. If unchanged, it&#39;s fixed as: mone_hera_staging_trace_etl_server</li></ul><p><img src="/images/log-tail3.png" alt="log-tail3"></p><p><img src="/images/log-tail4.png" alt="log-tail4"></p><h2 id="follow-applications-on-the-homepage" tabindex="-1">Follow Applications on the Homepage <a class="header-anchor" href="#follow-applications-on-the-homepage" aria-label="Permalink to &quot;Follow Applications on the Homepage&quot;">​</a></h2><p>After adding applications to &quot;Applications I&#39;m Involved With&quot; or &quot;Applications I Follow&quot; on the homepage, one can view monitoring and linkage information.</p><p><img src="/images/hera-dash1.png" alt="hera-dash1"></p><p><img src="/images/hera-dash2.png" alt="hera-dash2"></p><p><img src="/images/hera-dash3.png" alt="hera-dash3"></p></div></div></main><footer class="VPDocFooter" data-v-d46edd38 data-v-fa7cebd8><!--[--><!--]--><!----><nav class="prev-next" data-v-fa7cebd8><div class="pager" data-v-fa7cebd8><a class="pager-link prev" href="/en/docs/deployment.html" data-v-fa7cebd8><span class="desc" data-v-fa7cebd8>Previous page</span><span class="title" data-v-fa7cebd8>k8s Deployment</span></a></div><div class="pager" data-v-fa7cebd8><a class="pager-link next" href="/en/docs/manual.html" data-v-fa7cebd8><span class="desc" data-v-fa7cebd8>Next page</span><span class="title" data-v-fa7cebd8>Manual</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_guide_introduction.md\":\"dff76a76\",\"zh_about_community.md\":\"5b0991c2\",\"en_guide_quick-start.md\":\"c016ec00\",\"zh_index.md\":\"a5dcc235\",\"index.md\":\"ad42a95a\",\"zh_demo_api-examples.md\":\"0fe87141\",\"zh_guide_introduction.md\":\"2ea64461\",\"zh_about_spec-guide.md\":\"deecef05\",\"zh_guide_quick-start.md\":\"4cb39460\",\"en_docs_deployment.md\":\"864670ea\",\"en_about_community.md\":\"88299660\",\"en_docs_manual.md\":\"53e72f30\",\"en_index.md\":\"f5d75642\",\"en_about_spec-guide.md\":\"dff05a80\",\"zh_docs_deployment.md\":\"f9506c2b\",\"zh_demo_markdown-examples.md\":\"fb949bc2\",\"zh_docs_application-integration.md\":\"aca57ff0\",\"en_docs_application-integration.md\":\"4882c050\",\"zh_docs_manual.md\":\"53a0ba1b\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OzHera\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/apache/ozhera\"}]},\"locales\":{\"en\":{\"label\":\"English\",\"lang\":\"en-US\",\"description\":\"an Application Observable Platform\",\"themeConfig\":{\"nav\":[{\"text\":\"Docs\",\"activeMatch\":\"‘^/en/guide/\",\"items\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/en/guide/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/guide/quick-start\"}]},{\"text\":\"docs\",\"items\":[{\"text\":\"k8s Deployment\",\"link\":\"/en/docs/deployment\"},{\"text\":\"Application Integration\",\"link\":\"/en/docs/application-integration\"},{\"text\":\"manual\",\"link\":\"/en/docs/manual\"}]}]},{\"text\":\"Resources\",\"activeMatch\":\"^/info/\",\"items\":[{\"text\":\"Help\",\"items\":[{\"text\":\"GitHub Discussions\",\"link\":\"https://github.com/apache/ozhera/discussions\"}]}]},{\"text\":\"About\",\"activeMatch\":\"^/en/about/\",\"items\":[{\"text\":\"Community\",\"link\":\"/en/about/community\"},{\"text\":\"Specification Guide\",\"link\":\"/en/about/spec-guide\"}]}],\"sidebar\":{\"/en/guide/\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/en/guide/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/guide/quick-start\"}]},{\"text\":\"Documentation\",\"items\":[{\"text\":\"k8s Deployment\",\"link\":\"/en/docs/deployment\"},{\"text\":\"Application Integration\",\"link\":\"/en/docs/application-integration\"},{\"text\":\"Manual\",\"link\":\"/en/docs/manual\"}]}],\"/en/docs/\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/en/guide/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/guide/quick-start\"}]},{\"text\":\"Documentation\",\"items\":[{\"text\":\"k8s Deployment\",\"link\":\"/en/docs/deployment\"},{\"text\":\"Application Integration\",\"link\":\"/en/docs/application-integration\"},{\"text\":\"Manual\",\"link\":\"/en/docs/manual\"}]}],\"/en/demo\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/en/demo/markdown-examples\"},{\"text\":\"API Examples\",\"link\":\"/en/demo/api-examples\"}]}]}}},\"zh\":{\"label\":\"中文\",\"lang\":\"zh-CN\",\"description\":\"一款云原生时代的应用观测平台\",\"themeConfig\":{\"nav\":[{\"text\":\"文档\",\"activeMatch\":\"^/(guide)/\",\"items\":[{\"text\":\"开始\",\"items\":[{\"text\":\"简介\",\"link\":\"/zh/guide/introduction\"},{\"text\":\"快速开始\",\"link\":\"/zh/guide/quick-start\"}]},{\"text\":\"文档\",\"items\":[{\"text\":\"k8s部署\",\"link\":\"/zh/docs/deployment\"},{\"text\":\"应用接入\",\"link\":\"/zh/docs/application-integration\"},{\"text\":\"用户手册\",\"link\":\"/zh/docs/manual\"}]}]},{\"text\":\"资源\",\"activeMatch\":\"^/info/\",\"items\":[{\"text\":\"视频\",\"items\":[{\"text\":\"OzHera\",\"link\":\"https://www.bilibili.com/video/BV11D4y1h7KM/\"},{\"text\":\"k8s部署\",\"link\":\"https://mp.weixin.qq.com/s?__biz=MzkwMjQzMzMxMg==&mid=2247483720&idx=1&sn=c38fca2d3e82de43ce22acad73a1be21&chksm=c0a4de07f7d35711c5cba634c3833708db19fcc9303a50b77f8c1601831cac8e9520e3f32ff5&token=1000658198&lang=zh_CN#rd\"}]},{\"text\":\"帮助\",\"items\":[{\"text\":\"GitHub 论坛\",\"link\":\"https://github.com/apache/ozhera/discussions\"}]}]},{\"text\":\"关于\",\"activeMatch\":\"^/zh/about/\",\"items\":[{\"text\":\"社区\",\"link\":\"/zh/about/community\"},{\"text\":\"规范指南\",\"link\":\"/zh/about/spec-guide\"}]}],\"sidebar\":{\"/zh/guide/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"简介\",\"link\":\"/zh/guide/introduction\"},{\"text\":\"快速开始\",\"link\":\"/zh/guide/quick-start\"}]},{\"text\":\"文档\",\"items\":[{\"text\":\"k8s部署\",\"link\":\"/zh/docs/deployment\"},{\"text\":\"应用接入\",\"link\":\"/zh/docs/application-integration\"},{\"text\":\"用户手册\",\"link\":\"/zh/docs/manual\"}]}],\"/zh/docs/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"简介\",\"link\":\"/zh/guide/introduction\"},{\"text\":\"快速开始\",\"link\":\"/zh/guide/quick-start\"}]},{\"text\":\"文档\",\"items\":[{\"text\":\"k8s部署\",\"link\":\"/zh/docs/deployment\"},{\"text\":\"应用接入\",\"link\":\"/zh/docs/application-integration\"},{\"text\":\"用户手册\",\"link\":\"/zh/docs/manual\"}]}],\"/zh/demo\":[{\"text\":\"示例\",\"items\":[{\"text\":\"markdown示例\",\"link\":\"/zh/demo/markdown-examples\"},{\"text\":\"api示例\",\"link\":\"/zh/demo/api-examples\"}]}]}}}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>